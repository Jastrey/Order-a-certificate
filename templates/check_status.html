{% extends "base.html" %}

{% block content %}
<div class="check-status">
    <h2>üîç –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å–ø—Ä–∞–≤–∫–∏</h2>
    
    <form method="GET" action="{{ url_for('check_status') }}" class="status-form">
        <div class="form-group">
            <label for="certificate_id">–ù–æ–º–µ—Ä —Å–ø—Ä–∞–≤–∫–∏ (ID):</label>
            <input type="number" min= '1' id="certificate_id" name="id"
                   value="{{ request.args.get('id', '') }}"
                   placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Å–ø—Ä–∞–≤–∫–∏" required>
            <small>–ù–æ–º–µ—Ä —Å–ø—Ä–∞–≤–∫–∏ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –∑–∞–∫–∞–∑–∞</small>
        </div>
        <button type="submit" class="btn btn-primary">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å</button>
    </form>

    {% if certificate %}
    <div class="certificate-status">
        <div class="status-card status-{{ certificate.status.replace(' ', '-') }}">
            <h3>–°–ø—Ä–∞–≤–∫–∞ #{{ certificate.id }}</h3>
            <div class="status-info">
                <p><strong>–°—Ç–∞—Ç—É—Å:</strong> <span class="status-badge">{{ certificate.status }}</span></p>
                <p><strong>–°—Ç—É–¥–µ–Ω—Ç:</strong> {{ certificate.student_name }}</p>
                <p><strong>–ì—Ä—É–ø–ø–∞:</strong> {{ certificate.student_group }}</p>
                <p><strong>–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è:</strong> {{ certificate.birth_date }}</p>
                <p><strong>–ú–µ—Å—Ç–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:</strong> {{ certificate.request_place }}</p>
                <p><strong>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ:</strong> {{ certificate.quantity }} —à—Ç.</p>
				<p><strong>–î–∞—Ç–∞ –∑–∞–∫–∞–∑–∞:</strong> {{ certificate.created_at }}</p>
				<p><strong>–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:</strong> {{ certificate.updated_at }}</p>
            </div>
        </div>
    </div>
    {% elif request.args.get('id') %}
    <div class="alert alert-error">
        <h3>–°–ø—Ä–∞–≤–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞</h3>
        <p>–°–ø—Ä–∞–≤–∫–∞ —Å –Ω–æ–º–µ—Ä–æ–º {{ request.args.get('id') }} –Ω–µ –Ω–∞–π–¥–µ–Ω–∞. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –Ω–æ–º–µ—Ä–∞.</p>
    </div>
    {% endif %}
</div>
{% endblock %}
